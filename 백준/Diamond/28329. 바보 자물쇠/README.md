# [Diamond III] 바보 자물쇠 - 28329 

[문제 링크](https://www.acmicpc.net/problem/28329) 

### 성능 요약

메모리: 79560 KB, 시간: 64 ms

### 분류

자료 구조, 그리디 알고리즘, 세그먼트 트리

### 제출 일자

2025년 6월 3일 01:34:37

### 문제 설명

<p>자물쇠를 빠르게 맞추는 대회가 KOI 나라에 개최될 예정이다. 이 대회에 참가하는 당신은 자물쇠를 맞추는 능력을 연습하려고 한다. 이번 대회에서 다룰 자물쇠는 그 성질이 특이하여, <strong>바보 자물쇠</strong> 라는 이름이 붙어 있다.</p>

<p>바보 자물쇠는 알파벳 소문자로만 이루어진 문자열 $S$ 로 표현할 수 있다. 당신은 한 번의 연산으로 자물쇠의 특정 문자를 골라, 알파벳 순서로 인접한 문자로 바꿀 수 있다. 예를 들어, 바보 자물쇠의 상태가 <code>ioiaa</code> 일 때, 당신에게 가능한 연산의 종류는 총 $8$ 가지이다:</p>

<ul>
	<li>$1$ 번째 문자를 <code>i</code> 에서 <code>h</code> 로 바꾼다.</li>
	<li>$1$ 번째 문자를 <code>i</code> 에서 <code>j</code> 로 바꾼다.</li>
	<li>$2$ 번째 문자를 <code>o</code> 에서 <code>n</code> 로 바꾼다.</li>
	<li>$2$ 번째 문자를 <code>o</code> 에서 <code>p</code> 로 바꾼다.</li>
	<li>$3$ 번째 문자를 <code>i</code> 에서 <code>h</code> 로 바꾼다.</li>
	<li>$3$ 번째 문자를 <code>i</code> 에서 <code>j</code> 로 바꾼다.</li>
	<li>$4$ 번째 문자를 <code>a</code> 에서 <code>b</code> 로 바꾼다.</li>
	<li>$5$ 번째 문자를 <code>a</code> 에서 <code>b</code> 로 바꾼다.</li>
</ul>

<p>바보 자물쇠는 순서대로 나열된 문자가 알파벳 오름차순으로 <strong>정렬되어 있을 경우</strong> 풀리는 특이한 성질을 가진다. 다시 말해, 바보 자물쇠의 $i$ 번째 문자는 $i+1$ 번째 문자보다 알파벳 순으로 뒤쳐지지 않아야 한다. 예를 들어, <code>aabbcc</code>, <code>eel</code>, <code>a</code>, <code>zzzzz</code> 는 알파벳 오름차순으로 정렬되어 있다. <code>lee</code>, <code>ccbbaa</code>, <code>koi</code> 는 알파벳 오름차순으로 정렬되어 있지 않다.</p>

<p>어떠한 바보 자물쇠의 상태가 문자열 $S$ 로 주어졌을 때, 이 자물쇠를 풀기 위해 필요한 최소 연산 횟수를 자물쇠의 <strong>난이도</strong> 라고 하자. 당신은 문자열 $S$ 의 난이도를 빠르게 계산하기 위해 열심히 연습하였다. 이제는 연습을 아래와 같은 방법으로 더 어렵게 하려고 한다.</p>

<p>초기 바보 자물쇠의 상태가 $S$ 로 주어지고, $S$ 의 길이를 $N$ 이라고 할 때, 당신에게는 $Q$ 개의 갱신 쿼리가 주어진다. 각 쿼리는 $1$ 이상 $N$ 이하의 정수 $i$ 와 알파벳 소문자 $c$ 로 주어지는데, 이는 $S$ 의 $i$ 번째 문자를 $c$ 로 바꾸라는 뜻이다. 쿼리는 주어진 순서대로 적용하여야 한다. 당신은 맨 처음 주어진 바보 자물쇠 $S$의 난이도를 출력한 후, 각 갱신 쿼리가 끝날 때마다 변경된 바보 자물쇠 $S$의 난이도를 출력하여야 한다.</p>

### 입력 

 <p>첫 번째 줄에 문자열 $S$ 가 주어진다.</p>

<p>다음 줄에 쿼리의 수 $Q$ 가 주어진다.</p>

<p>$Q > 0$ 이라면, 다음 $Q$ 개의 줄에 정수 $i$ 와 알파벳 소문자 $c$ 가 공백으로 구분되어 주어진다.</p>

### 출력 

 <p>총 $Q + 1$ 개의 정수를 출력한다. 첫 번째 줄에는 바보 자물쇠 $S$ 의 난이도를 출력한다. $Q > 0$ 이라면, 이후 $Q$ 개의 줄에 걸쳐서 각 갱신 이후 변경된 바보 자물쇠 $S$ 의 난이도를 출력한다.</p>

